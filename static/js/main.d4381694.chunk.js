(this["webpackJsonpclarivate-user-ui"]=this["webpackJsonpclarivate-user-ui"]||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(10),r=c.n(n),a=(c(20),c.p,c(21),c(14)),i=c(2),o=c(1);var j=function(){const[e,t]=Object(s.useState)(null);Object(s.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=await fetch("".concat("https://clarivatesolution.onrender.com","/healthcheck"),{method:"GET",headers:{"Content-Type":"application/json"}}),c=await e.text();t(c)}catch(e){console.error("Error fetching health check data:",e)}};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"API Health Check"}),Object(o.jsx)("p",{children:e||"Loading..."})]})};var l=function(){const[e,t]=Object(s.useState)(null),[c,n]=Object(s.useState)(""),[r,a]=Object(s.useState)(""),[i,j]=Object(s.useState)(!1);Object(s.useEffect)((()=>{i&&l()}),[i]);const l=async()=>{try{const e=await fetch("".concat("https://clarivatesolution.onrender.com","/api/user/getuser"),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("".concat(c,":").concat(r))}});if(401===e.status)return void console.error("Unauthorized: Invalid username or password");const s=await e.json();t(s)}catch(e){console.error("Error fetching user data:",e)}};return Object(o.jsxs)("div",{children:[!i&&Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Login"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Username:"}),Object(o.jsx)("input",{type:"text",value:c,onChange:e=>n(e.target.value)})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Password:"}),Object(o.jsx)("input",{type:"password",value:r,onChange:e=>a(e.target.value)})]}),Object(o.jsx)("button",{onClick:()=>{""!==c.trim()&&""!==r.trim()?j(!0):console.error("Username and password are required")},children:"Login"})]}),i&&Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"User Data"}),e?Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{children:["Name: ",e.results[0].name.title," ",e.results[0].name.first," ",e.results[0].name.last]}),Object(o.jsxs)("p",{children:["Gender: ",e.results[0].gender]}),Object(o.jsxs)("p",{children:["DOB: ",e.results[0].dob.date]}),Object(o.jsxs)("p",{children:["Email: ",e.results[0].email]})]}):Object(o.jsx)("p",{children:"Loading..."})]})]})};var d=function(){return Object(o.jsx)(a.a,{children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:"/",exact:!0,component:j}),Object(o.jsx)(i.a,{path:"/user",component:l})]})})};var h=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsxs)("header",{className:"App-header",children:[Object(o.jsx)("a",{href:"/",children:"Home"}),Object(o.jsx)("a",{href:"/user",children:"User Details "})]}),Object(o.jsx)(d,{})]})};const u=document.getElementById("root");u.hasChildNodes()?r.a.hydrate(Object(o.jsx)(h,{}),u):r.a.render(Object(o.jsx)(h,{}),u)}},[[28,1,2]]]);
//# sourceMappingURL=main.d4381694.chunk.js.map